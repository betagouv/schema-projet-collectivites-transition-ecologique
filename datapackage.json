{
    "name": "schema-projet-collectivites-transition-ecologique",
    "title": "Schéma des projets de transition écologique des collectivités",
    "description": "Modèle de données pour décrire les projets de transition écologique menés par les collectivités territoriales, incluant les informations sur les projets et les collectivités associées.",
    "id": "schema-projet-collectivites-transition-ecologique",
    "profile": "tabular-data-package",
    "licenses": [
        {
            "title": "Licence Ouverte",
            "name": "etalab-2.0",
            "path": "https://www.etalab.gouv.fr/licence-ouverte-open-licence"
        }
    ],
    "keywords": [
        "transition écologique",
        "collectivité",
        "projet",
        "leviers",
        "compétences"
    ],
    "contributors": [
        {
            "title": "Adrien Zemour",
            "email": "adrien.zemour@ebeta.gouv.fr",
            "organization": "Les communs de la transition écologique des collectivités",
            "role": "author"
        },
        {
            "title": "Jean Perret",
            "email": "jean.perret@ebeta.gouv.fr",
            "organization": "Les communs de la transition écologique des collectivités",
            "role": "author"
        },
        {
            "title": "Louis Boivin",
            "email": "louis.boivin@ebeta.gouv.fr",
            "organization": "Les communs de la transition écologique des collectivités",
            "role": "author"
        },
        {
            "title": "Matthieu Veillon",
            "email": "matthieu.veillon@ebeta.gouv.fr",
            "organization": "Les communs de la transition écologique des collectivités",
            "role": "author"
        }
    ],
    "homepage": "https://github.com/betagouv/schema-projet-collectivites-transition-ecologique/",
    "created": "2025-04-15T00:00:00Z",
    "version": "v0.1.1",
    "resources": [
        {
            "name": "projets-territoire",
            "title": "Projets de collectivité",
            "description": "Description des projets de transition écologique menés par les collectivités",
            "profile": "tabular-data-resource",
            "path": "projets-territoire/exemple-valide.csv",
            "format": "csv",
            "mediatype": "text/csv",
            "encoding": "utf-8",
            "schema": {
                "fields": [
                    {
                        "name": "id",
                        "type": "string",
                        "format": "uuid",
                        "title": "Identifiant",
                        "description": "Identifiant unique du projet",
                        "constraints": {
                            "required": true
                        }
                    },
                    {
                        "name": "createdAt",
                        "type": "datetime",
                        "title": "Date de création",
                        "description": "Date de création du projet"
                    },
                    {
                        "name": "updatedAt",
                        "type": "datetime",
                        "title": "Date de mise à jour",
                        "description": "Date de dernière modification du projet"
                    },
                    {
                        "name": "nom",
                        "type": "string",
                        "title": "Nom",
                        "description": "Nom du projet"
                    },
                    {
                        "name": "description",
                        "type": "string",
                        "title": "Description",
                        "description": "Description détaillée du projet"
                    },
                    {
                        "name": "budgetPrevisionnel",
                        "type": "number",
                        "title": "Budget prévisionnel",
                        "description": "Budget prévisionnel du projet en euros"
                    },
                    {
                        "name": "dateDebutPrevisionnelle",
                        "type": "date",
                        "title": "Date de début prévisionnelle",
                        "description": "Date prévue pour le début du projet"
                    },
                    {
                        "name": "phase",
                        "type": "string",
                        "title": "Phase",
                        "description": "Phase actuelle du projet"
                    },
                    {
                        "name": "phaseStatut",
                        "type": "string",
                        "title": "Statut de la phase",
                        "description": "Statut actuel de la phase en cours"
                    },
                    {
                        "name": "programme",
                        "type": "string",
                        "title": "Programme",
                        "description": "Programme de financement"
                    },
                    {
                        "name": "porteurCodeSiret",
                        "type": "string",
                        "title": "SIRET du porteur",
                        "description": "Numéro SIRET de l'organisation porteuse"
                    },
                    {
                        "name": "porteurReferentEmail",
                        "type": "string",
                        "format": "email",
                        "title": "Email du référent",
                        "description": "Adresse email du référent du projet"
                    },
                    {
                        "name": "porteurReferentTelephone",
                        "type": "string",
                        "title": "Téléphone du référent",
                        "description": "Numéro de téléphone du référent"
                    },
                    {
                        "name": "porteurReferentPrenom",
                        "type": "string",
                        "title": "Prénom du référent",
                        "description": "Prénom du référent du projet"
                    },
                    {
                        "name": "porteurReferentNom",
                        "type": "string",
                        "title": "Nom du référent",
                        "description": "Nom du référent du projet"
                    },
                    {
                        "name": "porteurReferentFonction",
                        "type": "string",
                        "title": "Fonction du référent",
                        "description": "Fonction du référent dans l'organisation"
                    },
                    {
                        "name": "competences",
                        "type": "array",
                        "title": "Compétences",
                        "description": "Liste des codes de compétences",
                        "arrayItem": {
                            "type": "string",
                            "pattern": "^90-[0-9]{2,3}$"
                        },
                        "foreignKey": {
                            "fields": "competences",
                            "reference": {
                                "resource": "referentiel-competences-m57",
                                "fields": "code"
                            }
                        }
                    },
                    {
                        "name": "leviers",
                        "type": "array",
                        "title": "Leviers",
                        "description": "Liste des leviers d'action",
                        "arrayItem": {
                            "type": "string"
                        },
                        "foreignKey": {
                            "fields": "leviers",
                            "reference": {
                                "resource": "referentiel-leviers-sgpe",
                                "fields": "levier"
                            }
                        }
                    },
                    {
                        "name": "mecId",
                        "type": "string",
                        "title": "ID MEC",
                        "description": "Identifiant MEC"
                    },
                    {
                        "name": "tetId",
                        "type": "string",
                        "title": "ID TET",
                        "description": "Identifiant TET"
                    },
                    {
                        "name": "recocoId",
                        "type": "string",
                        "title": "ID RECOCO",
                        "description": "Identifiant RECOCO"
                    },
                    {
                        "name": "collectiviteIds",
                        "type": "array",
                        "title": "IDs Collectivités",
                        "description": "Liste des identifiants des collectivités",
                        "arrayItem": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "primaryKey": "id",
                "missingValues": [""]
            }
        },
        {
            "name": "collectivites",
            "title": "Collectivités",
            "description": "Description des collectivités territoriales porteuses de projets de transition écologique",
            "path": "collectivites/exemple-valide.csv",
            "profile": "tabular-data-resource",
            "format": "csv",
            "mediatype": "text/csv",
            "encoding": "utf-8",
            "dialect": {
                "delimiter": ",",
                "header": true
            },
            "schema": {
                "fields": [
                    {
                        "name": "id",
                        "type": "string",
                        "format": "uuid",
                        "constraints": {
                            "required": true
                        }
                    }
                ],
                "primaryKey": "id"
            }
        },
        {
            "name": "referentiel-leviers-sgpe",
            "title": "Référentiel des leviers SGPE",
            "description": "Liste des leviers d'action possibles",
            "profile": "tabular-data-resource",
            "path": "reference-data/50_leviers_SGPE_03_2025.csv",
            "format": "csv",
            "mediatype": "text/csv",
            "encoding": "utf-8",
            "schema": {
                "fields": [
                    {
                        "name": "levier",
                        "type": "string",
                        "title": "Levier",
                        "description": "Nom du levier d'action"
                    }
                ],
                "primaryKey": "levier",
                "missingValues": [""]
            }
        },
        {
            "name": "referentiel-competences-m57",
            "title": "Référentiel des compétences M57",
            "description": "Référentiel des compétences selon la nomenclature M57",
            "profile": "tabular-data-resource",
            "path": "reference-data/référentiel_competences_M57_2025.csv",
            "format": "csv",
            "mediatype": "text/csv",
            "encoding": "utf-8",
            "schema": {
                "fields": [
                    {
                        "name": "code",
                        "type": "string",
                        "title": "Code",
                        "description": "Code de la compétence",
                        "constraints": {
                            "pattern": "^90-[0-9]{2,3}$"
                        }
                    },
                    {
                        "name": "competence-sous-competence",
                        "type": "string",
                        "title": "Compétence/Sous-compétence",
                        "description": "Libellé de la compétence ou sous-compétence"
                    }
                ],
                "primaryKey": "code",
                "missingValues": [""]
            }
        }
    ]
}